<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Technical Lead Assessment Briefing - Lawpath</title>
    <style>
        @media print {
            body { margin: 0; }
            .page-break { page-break-before: always; }
            h2 { page-break-after: avoid; }
            h3 { page-break-after: avoid; }
            table { page-break-inside: avoid; }
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #062C71;
            max-width: 210mm;
            margin: 0 auto;
            padding: 20px;
            background: #FFFFFF;
        }
        
        h1 {
            color: #062C71;
            border-bottom: 3px solid #1A81D5;
            padding-bottom: 10px;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        
        h2 {
            color: #1A81D5;
            margin-top: 30px;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 1px solid #DCE2EF;
            padding-bottom: 8px;
        }
        
        h3 {
            color: #005194;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        h4 {
            color: #51628A;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .subtitle {
            font-size: 1.2em;
            color: #8293BA;
            margin-top: -20px;
            margin-bottom: 30px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #FFFFFF;
            box-shadow: 0 1px 3px rgba(0, 29, 54, 0.1);
        }
        
        th {
            background: #ECF0F8;
            color: #062C71;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #1A81D5;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #DCE2EF;
            color: #062C71;
        }
        
        tr:last-child td {
            border-bottom: none;
        }
        
        code {
            background: #F4F6FB;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #005194;
        }
        
        pre {
            background: #F4F6FB;
            color: #062C71;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            line-height: 1.4;
            margin: 20px 0;
            border: 1px solid #DCE2EF;
        }
        
        pre code {
            background: none;
            color: #062C71;
            padding: 0;
        }
        
        .key-outcome {
            background: #D6EAFF;
            border-left: 4px solid #1A81D5;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            color: #005194;
        }
        
        .warning {
            background: #FFE1C2;
            border-left: 4px solid #DB8300;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            color: #753D00;
        }
        
        .success-criteria {
            background: #D7EFEB;
            border-left: 4px solid #16987C;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            color: #006650;
        }
        
        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
            color: #062C71;
        }
        
        li {
            margin: 8px 0;
        }
        
        strong {
            color: #062C71;
            font-weight: 600;
        }
        
        p {
            color: #062C71;
        }
        
        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #DCE2EF;
            text-align: center;
            color: #8293BA;
        }
        
        .logo-container {
            text-align: left;
            margin-bottom: 30px;
        }
        
        .logo {
            height: 60px;
            width: auto;
        }
        
        .repo-structure {
            background: #F4F6FB;
            border: 1px solid #DCE2EF;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #062C71;
        }
    </style>
</head>
<body>
    <div class="logo-container">
        <img src="logo.png" alt="Lawpath Logo" class="logo">
    </div>
    <h1>Technical Lead Assessment Briefing</h1>
    <div class="subtitle"><strong>Lawpath Engineering</strong></div>
    <h2>Executive Summary</h2>
    <p>You are being assessed for the Technical Lead position at Lawpath. This assessment requires approximately 5 hours of focused work and evaluates your ability to design scalable architectures, make strategic technical decisions, and communicate effectively with both technical and non-technical stakeholders.</p>
    
    <div class="key-outcome">
        <strong>Key Outcome:</strong> Demonstrate you can architect and specify a production-ready AI system that scales to 10 million events per day.
    </div>

    <h2>Assessment Overview</h2>

    <h3>Duration & Structure</h3>
    <ul>
        <li><strong>Expected Time:</strong> 5 hours of focused work</li>
        <li><strong>Submission Deadline:</strong> 1 week from receipt</li>
        <li><strong>Format:</strong> Take-home technical assessment</li>
        <li><strong>Submission:</strong> Via GitHub repository</li>
    </ul>

    <h3>Core Challenge</h3>
    <p>Build a "Smart Next-Step" recommendation system — an AI-powered service that analyses customer behaviour patterns and recommends the most likely next legal or accounting action.</p>

    <h3>Assessment Approach</h3>
    <p>You will implement a working system using LocalStack and Docker, demonstrating your ability to build cloud-native applications locally with production-ready patterns. Feel free to use AI coding assistants (Claude, Cursor, GitHub Copilot, etc.) to help build your solution - we care about the quality of the final implementation, not how you built it.</p>

    <h3>Evaluation Focus</h3>
    <p>Your assessment will focus on working implementation with proper architecture, clean code with appropriate abstractions, scalability and production readiness considerations, and comprehensive automated testing.</p>

    <h2>Primary Deliverable: Working Implementation</h2>

    <h3>What You're Creating</h3>
    <p>A fully functional recommendation system with complete infrastructure setup, Lambda functions, and automated tests that demonstrate the entire system working end-to-end.</p>

    <h3>System Validation</h3>
    <p>Your solution must include a <strong>single-command setup and validation process</strong>. This could be a shell script, Makefile, Docker Compose command, or any other automation approach. Running one command should start all services, deploy infrastructure, load sample data, and validate the system is working. The choice of tooling is yours, but the process must be simple and repeatable.</p>

    <div class="page-break"></div>

    <h2>Technical Requirements</h2>

    <h3>Mandatory Technology Stack</h3>
    <table>
        <thead>
            <tr>
                <th>Component</th>
                <th>Required Technology</th>
                <th>Implementation Note</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Local AWS</strong></td>
                <td>LocalStack (Docker)</td>
                <td>Must run in Docker container, NOT pip install</td>
            </tr>
            <tr>
                <td><strong>Infrastructure as Code</strong></td>
                <td>Serverless Framework</td>
                <td>Complete serverless.yml required</td>
            </tr>
            <tr>
                <td><strong>Runtime</strong></td>
                <td>AWS Lambda (Node.js 18+)</td>
                <td>Full handler code needed</td>
            </tr>
            <tr>
                <td><strong>Vector Database</strong></td>
                <td>Qdrant/Pinecone/Weaviate/Chroma</td>
                <td>Docker container required</td>
            </tr>
            <tr>
                <td><strong>Core AWS Services</strong></td>
                <td>API Gateway, Lambda, SNS, DynamoDB, S3</td>
                <td>Via LocalStack container</td>
            </tr>
        </tbody>
    </table>

    <h3>Critical Docker Requirements</h3>
    <p>Your solution must use Docker Compose with LocalStack running as a container for AWS services, a Vector DB container (Qdrant, Weaviate, or Chroma), a shared Docker network for Lambda-to-service communication, and the LAMBDA_DOCKER_NETWORK environment variable configured correctly. LocalStack must be running in Docker to properly simulate Lambda functions — the pip-installed version will not work for this assessment.</p>

    <p><strong>LocalStack Setup:</strong> Refer to the official LocalStack documentation at <a href="https://docs.localstack.cloud/getting-started/" target="_blank">https://docs.localstack.cloud/getting-started/</a> for installation and configuration. You can use either:
    <ul>
        <li><strong>Docker:</strong> Run LocalStack as a Docker container (traditional approach)</li>
        <li><strong>LocalStack Desktop:</strong> Use the LocalStack Desktop application for easier setup and management</li>
    </ul>
    Both approaches support the localhost.localstack.cloud:4566 endpoint for better DNS resolution and service discovery.</p>

    <p>The Docker networking must enable Lambda functions to communicate with both LocalStack services and the vector database. This requires careful configuration of the LAMBDA_DOCKER_NETWORK environment variable to match your compose network name, proper service discovery using container names, and appropriate port mappings for external access.</p>

    <h3>Required Data Flow Architecture</h3>
    <p>Your AI instructions must implement this event-driven architecture:</p>
    
    <h4>Event Ingestion Flow:</h4>
    <ol>
        <li><strong>API Gateway → Lambda (Event Ingestion):</strong> Validates incoming POST /events request and publishes to SNS topic immediately for asynchronous processing</li>
        <li><strong>SNS → Multiple Worker Lambdas (Fan-out):</strong>
            <ul>
                <li><strong>DynamoDB Worker:</strong> Stores event metadata for fast queries</li>
                <li><strong>S3 Worker:</strong> Archives raw events for compliance and audit</li>
                <li><strong>Vector Index Worker:</strong> Generates embeddings and indexes in vector database</li>
            </ul>
        </li>
    </ol>
    
    <h4>Recommendation Flow:</h4>
    <ol>
        <li><strong>API Gateway → Lambda (Recommendation Service):</strong> Handles GET /recommendations requests</li>
        <li><strong>Lambda queries Vector DB:</strong> Performs similarity search to find relevant patterns</li>
        <li><strong>Lambda returns recommendations:</strong> Analyzes similar journeys and returns next-step predictions</li>
    </ol>
    
    <h3>Required API Endpoints</h3>
    <ul>
        <li><strong>POST /events</strong> - Accepts new business events, validates them, and publishes to SNS for asynchronous processing. Returns immediately with eventId.</li>
        <li><strong>GET /recommendations?user_id={id}&limit={k}</strong> - Queries vector database for similar patterns and returns top-K next actions with confidence scores</li>
    </ul>
    
    <h3>Benefits of This Architecture</h3>
    <ul>
        <li><strong>Scalability:</strong> SNS fan-out allows parallel processing without blocking the API response</li>
        <li><strong>Resilience:</strong> If one worker fails, others continue processing independently</li>
        <li><strong>Performance:</strong> Event ingestion returns immediately; storage happens asynchronously</li>
        <li><strong>Separation of Concerns:</strong> Each Lambda has a single responsibility</li>
    </ul>
    
    <h3>Core Recommendation Features</h3>
    <ul>
        <li><strong>Semantic Search:</strong> Find similar companies based on event history and metadata</li>
        <li><strong>Pattern Matching:</strong> Identify what successful companies did next in similar situations</li>
        <li><strong>Confidence Scoring:</strong> Rank recommendations by relevance and historical success rates</li>
        <li><strong>Multi-tenant Isolation:</strong> Ensure recommendations respect company boundaries and privacy</li>
    </ul>

    <h3>System Design Requirements</h3>
    <p>The architecture must be designed to scale to 10 million events per day with complete multi-tenant data isolation between companies. Implement event sourcing with S3 as the immutable event store and ensure high availability through fault-tolerant design with fallback strategies.</p>

    <p>Multi-tenancy must be enforced at every layer with companyId-based partitioning in DynamoDB, S3 prefix isolation per company, and vector database namespaces or metadata filtering.</p>

    <div class="page-break"></div>

    <h3>Infrastructure as Code Specifications</h3>
    <p>Your Serverless Framework configuration must include Lambda function definitions (Event Ingestion, DynamoDB Worker, S3 Worker, Vector Index Worker, Recommendation Service), SNS topics with subscriptions, DynamoDB tables, S3 buckets, API Gateway endpoints, and IAM roles.</p>

    <p>The LocalStack configuration must specify all required AWS services, proper endpoint configuration for local development, Lambda executor settings for Docker-based execution, and volume mounts for data persistence across restarts.</p>

    <h3>Vector Search & Recommendation Engine</h3>
    <p>The core of your system is the recommendation engine. Implement semantic search capabilities including:</p>
    <ul>
        <li><strong>Embedding Generation:</strong> Convert event descriptions and metadata into high-dimensional vectors using Sentence Transformers or OpenAI embeddings</li>
        <li><strong>Similarity Search:</strong> Find the k-nearest neighbors based on cosine similarity between event embeddings</li>
        <li><strong>Journey Analysis:</strong> For similar events, analyze what actions other companies took next in their journey</li>
        <li><strong>Recommendation Scoring:</strong> Weight recommendations by similarity score, recency, and success patterns</li>
        <li><strong>Contextual Filtering:</strong> Apply metadata filters for industry, company stage, and business size</li>
    </ul>

    <p>The vector database must support:</p>
    <ul>
        <li>Collection creation with 384 or 768 dimensions (depending on embedding model)</li>
        <li>Batch loading of sample events with embeddings</li>
        <li>Fast similarity search with metadata filtering</li>
        <li>Query response times under 200ms for production readiness</li>
    </ul>
    
    <h3>Recommendation Algorithm</h3>
    <p>Your implementation should follow this algorithm:</p>
    <ol>
        <li>Retrieve user's recent events from DynamoDB</li>
        <li>Generate embedding for user's current context</li>
        <li>Search vector DB for similar historical patterns</li>
        <li>Extract "next actions" from similar company journeys</li>
        <li>Rank recommendations by frequency and similarity score</li>
        <li>Return top-K recommendations with confidence levels</li>
    </ol>

    <h2>Deliverables</h2>

    <h3>1. Working Implementation (Primary - 60% of grade)</h3>
    <p>Your implementation must include:</p>
    <ul>
        <li><strong>Docker Compose:</strong> Complete configuration for LocalStack and Vector DB</li>
        <li><strong>Lambda Functions:</strong> Event ingestion, workers (DynamoDB, S3, Vector), and recommendation service</li>
        <li><strong>Infrastructure Code:</strong> Serverless Framework or Terraform configuration</li>
        <li><strong>One-Command Runner:</strong> A single command/script that sets up and validates the entire system (e.g., <code>make run</code>, <code>./run.sh</code>, <code>docker-compose up --build</code>, etc.)</li>
        <li><strong>Data Loader:</strong> Script to load and index the sample events</li>
    </ul>

    <h3>2. Architecture Documentation (25% of grade)</h3>
    <p>Provide a system diagram showing the complete 5-step data flow with all components and their interactions. Include a technical decisions document (2 pages maximum) explaining your technology choices, trade-offs between different approaches, scalability considerations, and cost optimization strategies.</p>

    <p>Document the Docker networking architecture showing how containers communicate, the event-driven architecture with SNS fan-out pattern, data storage strategy across DynamoDB, S3, and vector database, and security boundaries with IAM roles and policies.</p>

    <h3>3. Product Impact Analysis (15% of grade)</h3>
    <p>Define success metrics including recommendation accuracy, system performance KPIs, user engagement metrics, and business value indicators. Describe your A/B testing approach for validating recommendation quality and iterating on the model.</p>

    <p>Provide a roadmap with at least 2 future features that leverage this architecture, such as real-time recommendation updates, industry-specific models, or advanced analytics dashboards.</p>

    <div class="page-break"></div>

    <h2>Provided Resources</h2>

    <h3>Sample Dataset</h3>
    <p>You'll receive <code>sample-events.json</code> containing 85+ real business events from 8 companies across multiple industries (Technology, E-commerce, Healthcare, Fintech, Consulting, Retail, Manufacturing, SaaS). This dataset demonstrates realistic business progression patterns with sequential events showing actual company journeys.</p>
    <p><strong>Sample data available at:</strong> <a href="https://lawpath.github.io/lawpath-tech-test/sample-events.json" target="_blank">https://lawpath.github.io/lawpath-tech-test/sample-events.json</a></p>

    <p>The data includes various event types such as company registration, document creation, compliance filings, and financial transactions. Each company's event sequence represents ground truth for training recommendations — what companies actually did next in their journey.</p>

    <h3>Event Structure</h3>
    <pre><code>{
  "eventId": "evt_2024_001",
  "companyId": "comp_123",
  "userId": "user_456",
  "eventType": "document_created",
  "metadata": {
    "documentType": "shareholders_agreement",
    "industry": "technology",
    "stage": "incorporation"
  },
  "description": "Created shareholders agreement with vesting schedule",
  "timestamp": "2024-01-15T10:30:00Z"
}</code></pre>

    <h2>Assessment Criteria</h2>

    <h3>Scoring Breakdown</h3>
    <table>
        <thead>
            <tr>
                <th>Area</th>
                <th>Weight</th>
                <th>Key Evaluation Points</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Code Quality</strong></td>
                <td>35%</td>
                <td>Clean code, proper abstractions, error handling</td>
            </tr>
            <tr>
                <td><strong>Architecture</strong></td>
                <td>25%</td>
                <td>Scalability, correct data flow, system design</td>
            </tr>
            <tr>
                <td><strong>Implementation</strong></td>
                <td>20%</td>
                <td>Working solution, test coverage, automation</td>
            </tr>
            <tr>
                <td><strong>Infrastructure</strong></td>
                <td>10%</td>
                <td>Docker setup, IaC, proper configuration</td>
            </tr>
            <tr>
                <td><strong>Documentation</strong></td>
                <td>10%</td>
                <td>Clear README, architecture docs, test instructions</td>
            </tr>
        </tbody>
    </table>

    <h3>System Validation</h3>
    <p>Your system will be validated to ensure it works end-to-end. We will verify that all Docker containers start successfully, Lambda functions properly deploy to LocalStack, sample data can be loaded and indexed, and both ingestion and recommendation APIs work correctly.</p>

    <div class="page-break"></div>

    <h2>Validation Requirements</h2>
    <p><strong>We should be able to run your entire system with a single command.</strong> For example:</p>
    <pre><code># Examples of acceptable approaches:
./run.sh                    # Shell script
make run                     # Makefile
docker-compose up --build    # Docker Compose with entrypoints
npm run start                # Package.json script
python run.py                # Python orchestrator</code></pre>
    
    <p>This single command must:</p>
    <ol>
        <li>Start Docker Compose services (LocalStack, Vector DB)</li>
        <li>Deploy all Lambda functions and infrastructure</li>
        <li>Load sample events from sample-events.json</li>
        <li>Run tests to validate event ingestion and recommendations</li>
        <li>Display clear success/failure output</li>
    </ol>

    <p>The validation will verify that events flow through SNS to all workers, data is correctly stored in all three storage layers, vector search returns relevant recommendations, response times meet requirements, and the system handles concurrent requests.</p>
    
    <h3>Test Flow A: Event Ingestion</h3>
    <pre><code>// POST /events
{
  "companyId": "comp_123",
  "userId": "user_456",
  "eventType": "document_created",
  "metadata": {
    "documentType": "shareholders_agreement",
    "industry": "technology"
  }
}

// Response: 200 with eventId (immediate)

// Verify (asynchronously):
✓ SNS message published
✓ DynamoDB Worker executed
✓ S3 Worker executed  
✓ Vector Index Worker executed
✓ All data stores updated</code></pre>

    <h3>Test Flow B: Recommendations</h3>
    <pre><code>// GET /recommendations?user_id=user_456&limit=5

// Verify:
✓ Returns 5 recommendations
✓ Sorted by relevance score
✓ Includes confidence levels
✓ Response time < 200ms
✓ Uses cached results if available</code></pre>

    <h2>Common Pitfalls to Avoid</h2>
    <p>Ensure LocalStack runs in a Docker container rather than pip installation, as Lambda execution requires Docker-based LocalStack. Configure networking properly so Lambda functions can reach both LocalStack services and the vector database. Use container names for service discovery rather than localhost or IP addresses.</p>

    <p>Write clean, maintainable code with proper error handling. Use environment variables for configuration. Implement proper logging for debugging. Include retry logic for transient failures. Test your solution thoroughly before submission.</p>

    <h2>Time Management Guidance</h2>
    <p><em>Suggested allocation for the 5 hours of work:</em></p>
    <table>
        <thead>
            <tr>
                <th>Phase</th>
                <th>Time</th>
                <th>Focus</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Architecture Design</strong></td>
                <td>60 min</td>
                <td>Data flow, Docker setup, system design</td>
            </tr>
            <tr>
                <td><strong>Implementation</strong></td>
                <td>180 min</td>
                <td>Lambda functions, infrastructure code, Docker compose</td>
            </tr>
            <tr>
                <td><strong>Testing & Documentation</strong></td>
                <td>60 min</td>
                <td>Test scripts, documentation, diagrams</td>
            </tr>
        </tbody>
    </table>

    <h2>Final Submission</h2>

    <h3>Repository Structure</h3>
    <div class="repo-structure">
/<br>
├── docker-compose.yml        # LocalStack + Vector DB setup<br>
├── serverless.yml           # Infrastructure as code<br>
├── lambdas/<br>
│   ├── event-ingestion/<br>
│   ├── dynamo-worker/<br>
│   ├── s3-worker/<br>
│   ├── vector-worker/<br>
│   └── recommendation/<br>
├── scripts/<br>
│   ├── setup.sh             # System setup script<br>
│   ├── test.sh              # Test runner<br>
│   └── load-data.sh         # Sample data loader<br>
├── docs/<br>
│   ├── architecture.md      # System design<br>
│   └── decisions.md         # Technical rationale<br>
├── data/<br>
│   └── sample-events.json   # Provided test data<br>
└── README.md                # Setup and usage instructions
    </div>

    <h3>Optional Loom Video</h3>
    <p>You may submit a 5-minute Loom video walking through your solution, demonstrating the system running, explaining key architectural decisions, and showing how the system handles real requests. This is optional but can help showcase your communication skills and system understanding.</p>

    <h3>Success Metrics</h3>
    <p>Your solution succeeds if we can run a single command that starts your entire system, all services initialize correctly, test data loads successfully, both APIs work as expected, and the output clearly shows the system is operational.</p>

    <h2>Final Notes</h2>
    <p>We seek technical leaders who can build production-ready systems using modern cloud-native patterns. Your implementation should demonstrate clean architecture, proper error handling, and scalable design patterns.</p>

    <p>Remember: You're building a containerised, event-driven recommendation system that can be validated with a single shell script. Focus on working code, clean abstractions, and production-ready patterns. You have one week to complete this assessment, with an expected time investment of 5 hours.</p>

    <div class="success-criteria">
        <p><strong>Submission Deadline:</strong> 1 week from receipt of assessment</p>
        <p><strong>Expected Time Investment:</strong> 5 hours</p>
        <p><strong>Format:</strong> GitHub repository link</p>
        <p><strong>Optional:</strong> 5-minute Loom video walkthrough</p>
    </div>

    <div class="footer">
        <p><strong>Good luck. Show us your ability to specify complex, containerised systems with precision.</strong></p>
        <p><em>Lawpath Engineering Team</em></p>
    </div>
</body>
</html>
